<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Edit Product</title>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
	<style>
		body {
			background: linear-gradient(120deg, #65f6ef 0%, #1d65ff 100%);
			font-family: 'Roboto', sans-serif;
			min-height: 100vh;
			margin: 0;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.form-container {
			background: #fff;
			padding: 2.5rem 2rem;
			border-radius: 1.2rem;
			box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
			width: 100%;
			max-width: 420px;
			margin: 2rem auto;
		}
		h2 {
			text-align: center;
			color: #f76b1c;
			margin-bottom: 1.5rem;
			font-weight: 700;
		}
		.form-group {
			margin-bottom: 1.2rem;
		}
		label {
			display: block;
			margin-bottom: 0.5rem;
			color: #333;
			font-weight: 500;
		}
		input[type="text"],
		input[type="number"],
		select {
			width: 100%;
			padding: 0.7rem;
			border: 1px solid #ddd;
			border-radius: 0.5rem;
			font-size: 1rem;
			transition: border 0.2s;
		}
		input[type="text"]:focus,
		input[type="number"]:focus,
		select:focus {
			border: 1.5px solid #f76b1c;
			outline: none;
		}
		.styled-select {
			background: linear-gradient(90deg, #e0e7ff 0%, #f0fdfa 100%);
			color: #333;
			appearance: none;
			-webkit-appearance: none;
			-moz-appearance: none;
			transition: border 0.2s, box-shadow 0.2s;
			box-shadow: 0 2px 8px rgba(31, 38, 135, 0.06);
			margin-top: 0.2rem;
		}
		.styled-select option {
			background: #fff;
			color: #333;
		}
		.btn {
			width: 100%;
			padding: 0.9rem;
			background: linear-gradient(90deg, #f76b1c 0%, #fad961 100%);
			color: #fff;
			border: none;
			border-radius: 0.5rem;
			font-size: 1.1rem;
			font-weight: 700;
			cursor: pointer;
			transition: background 0.2s;
			margin-top: 0.5rem;
		}
		.btn:hover {
			background: linear-gradient(90deg, #fad961 0%, #f76b1c 100%);
			color: #fff;
		}
		.error-list {
			background: #ffe0e0;
			color: #d8000c;
			border: 1px solid #f5c6cb;
			border-radius: 0.5rem;
			padding: 0.8rem 1rem;
			margin-bottom: 1.2rem;
			list-style: none;
			font-size: 0.98rem;
		}
		.back-link {
			display: block;
			text-align: center;
			margin-top: 1.2rem;
			color: #f76b1c;
			text-decoration: none;
			font-weight: 500;
			transition: color 0.2s;
		}
		.back-link:hover {
			color: #d35400;
			text-decoration: underline;
		}
	</style>
</head>
<body>
	<div class="form-container">
		<h2>Edit Product</h2>
		<% if (typeof errors !== 'undefined' && errors.length > 0) { %>
			<ul class="error-list">
				<% errors.forEach(function(error) { %>
					<li><%= error.msg %></li>
				<% }); %>
			</ul>
		<% } %>
		<form action="/products/<%= product.id %>/edit" method="POST" autocomplete="off">
			<div class="form-group">
				<label for="name">Product Name</label>
				<input type="text" id="name" name="name" value="<%= product.name %>" required>
			</div>
			<div class="form-group">
				<label for="price">Price ($)</label>
				<input type="number" id="price" name="price" step="0.01" min="0.01" value="<%= product.price %>" required>
			</div>
			<div class="form-group">
				<label for="quantity">Quantity</label>
				<input type="number" id="quantity" name="quantity" min="0" value="<%= product.quantity %>" required>
			</div>
			<div class="form-group">
				<label for="category_id">Category</label>
				<select id="category_id" name="category_id" required class="styled-select">
					<option value="" disabled>Select a category</option>
					<% if (typeof categories !== 'undefined' && categories.length > 0) { %>
						<% categories.forEach(function(category) { %>
							<option value="<%= category.id %>" <%= product.category_id == category.id ? 'selected' : '' %>><%= category.name %></option>
						<% }); %>
					<% } %>
				</select>
			</div>
			<button class="btn" type="submit">Update Product</button>
		</form>
		<a class="back-link" href="/">&#8592; Back to Inventory</a>
	</div>
</body>
</html>
